# XSS

## 概念

攻击者往 `HTML`文件中或者 `DOM`中注入恶意脚本，从而在用户浏览页面时利用注入的恶意脚本对用户实施攻击的一种手段

## 攻击内容

- 通过`document.cookies` 窃取`cookies`，进行 CORS 攻击
- 通过 `addEventListener`监听用户行为
- 修改 DOM ，伪造页面，套取用户信息
- 在页面内生成浮窗广告



## 攻击方式

1. 存储型
   - 攻击者利用网站漏洞将一段恶意 `javascript`代码提交到网站的数据库中
   - 用户访问到包含恶意代码的页面
   - 浏览器执行了恶意代码，完成攻击
2. 反射型
   - 攻击者将一段恶意代码提交给服务器
   - 服务器接受请求，又将恶意代码反射给浏览器
   - 浏览器这些恶意代码，完成攻击
3. 基于DOM



## 预防手段

- 服务器对输入脚本进行过滤或者转码
- 充分利用 CSP，限制恶意脚本的执行
- 使用 `HttpOnly`属性

## 总结

- xss 通过注入脚本攻击，js 能做什么，攻击手段就有什么
- 预防手段就从限制脚本入手：不给注入以及限制脚本的能力